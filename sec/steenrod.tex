
\section{May--Steenrod structures} \label{s:steenrod}

We now introduce an operadic structure giving rise to Steenrod operations based in \cite{may1970general}.
In our presentation we emphasize the integral structure needed to define them at every prime.
For a more geometric treatment we refer the reader to \cite{may1972geometry, may76homology, lawson2020dyerlashof}, and for a different operadic approach at the even prime to \cite{chataur2005adem-cartan}.

Let us assume the ground ring to be $\Z$ unless stated otherwise.
\begin{definition} \label{def: May--Steenrod structure}
	A \textit{May--Steenrod structure} on an operad $\mathcal O$ is a
	morphism of $\mathrm{C}$-modules $\psi \colon \mathcal W \to \mathcal O$ for which there exists a factorization through an $E_\infty$-operad
	\begin{equation*}
	\begin{tikzcd}[column sep = normal, row sep = small]
	& \mathcal R \arrow[dr, "\phi", out=0] & \\
	\mathcal W \arrow[ur, "\iota", in=180] \arrow[rr, "\psi"] & & \mathcal O
	\end{tikzcd}
	\end{equation*}
	such that $\iota$ is a quasi-isomorphism and $\phi$ a morphism of operads.
\end{definition}

\begin{remark} \label{rmk: Deligne conjecture}
	In \cite{GerstenhaberVoronov} an operad morphism $\mathcal{A}ssoc \to \mathcal O$ is referred to as a \textit{multiplication} on $\mathcal O$.
	In this language, a choice of factorization $\phi \circ \iota$ of a May--Steenrod structure on $\mathcal O$ endows it with an $E_\infty$ \textit{multiplication} $\phi$.
\end{remark}

\begin{definition} \label{def: Steenrod products}
	Let $A$ be a chain complex.
	A May--Steenrod structure on $\mathrm{End}_A$ is referred to as one on $A$.
	Given one such structure $\psi \colon \mathcal W \to \End_A$, the \textit{Steenrod cup-}$(r, i)$ \textit{product} of $A$ is defined for every $r, i \geq 0$ as the image in $ \mathrm{End}(A^{\otimes r}, A)$ of $\psi(e_i)$.
\end{definition}

Let $A$ be equipped with a May--Steenrod structure
\begin{equation*}
\begin{tikzcd}[column sep = normal, row sep = small]
& \mathcal R \arrow[dr, "\phi", out=0] & \\
\mathcal W \arrow[ur, "\iota", out=55, in=180] \arrow[rr, "\psi"] & & \End_A.
\end{tikzcd}
\end{equation*}
We can relate this structure on $A$ to those considered by May in \cite{may1970general} as follows.
The morphism $\phi$ provides $A$ with the structure of a homotopy associative algebra defined by the image in $\Hom(A^{\otimes 2}, A)$ of a representative in $\mathcal R(2)$ of a generator of its $0^\th$-homology.
Restricting $\psi$ to arity $r$ defines a map $\theta \colon \mathcal W(r) \otimes A^{\otimes r} \to A$ that makes the pair $(A, \theta)$ into an object in May's category $\mathfrak{C}(\mathrm C_r, \infty, \Z)$ as presented in \cite[Definitions 2.1]{may1970general}.
Explicitly, this means that the pair is such that $\psi(e_0) \in \End_A(r)$ is $\mathrm C_r$-homotopic to the iterated product $A^{\otimes r} \to A$; a claim that follows from the iterated product being a representative of a generator of the $0^\th$-homology of $\mathcal R(r)$, and $\iota$ being a quasi-isomorphism of $\mathrm C$-modules.
Furthermore, for $r$ equal to a prime $p$, tensoring the integers with $\Fp$ makes the pair $(A, \theta)$ into an object in May's category $\mathfrak{C}(\mathrm C_p, \infty, \mathbb{F}_p)$.
For any object $(A, \theta)$ in this category, Definition~2.2 in \cite{may1970general} defines operations on the mod $p$ homology of $A$, a construction we review below.
In particular, if $A$ is given by the cochains of a space these products agree with Steenrod's original definitions, and for $A$ being the chains on an infinite loop space, with those defined by Araki--Kudo and Dyer--Lashof.

For the rest of this section $A$ denotes a chain complex equipped with a May--Steenrod structure.

\begin{definition}
	For any prime $p$, the $\mathbb{F}_p$-linear map
	\begin{equation*}
	D^p_i \colon (A \otimes \mathbb{F}_p) \to (A \otimes \mathbb{F}_p)
	\end{equation*}
	is defined by sending $a$ to the Steenrod cup-$(p, i)$ product of $(a \otimes \cdots \otimes a) \in (A \otimes \mathbb{F}_p)^{\otimes p}$ if $i \geq 0$ and to $0$ otherwise.
\end{definition}

We notice that if $a$ is of degree $q$ then $D^p_i(a)$ is of degree $q + (p-1)q + i$.

\begin{definition}
	For any integer $s$, the \textit{Steenrod operation}
	\begin{equation*}
	P_s \colon H_\bullet(A; \mathbb{F}_2) \to H_{\bullet + s}(A; \mathbb{F}_2)
	\end{equation*}
	is defined by sending the class represented by a cycle $a \in (A \otimes \mathbb{F}_2)$ of degree $q$ to the class represented by $D^2_{s-q}(a)$.
\end{definition}

Notice that the Steenrod operations above, corresponding to Steenrod squares in the context of spaces, are determined by the Steenrod cup-$(2,i)$ products with $\mathbb{F}_2$-coefficients.
These binary operations are known as cup-$i$ products \cite{steenrod1947products, medina2021newformulas} in the space context.
In a similar way, the operations $P$ and $\beta P$ defined below for odd primes are determined by the Steenrod cup-$\big(p, k(p-1)-\varepsilon\big)$ products for $\varepsilon \in \{0,1\}$.
We can explain the appearance of these specific Steenrod cup-$(p,1)$ products as follows.
The increase on the degree of a $q$-cycle after applying $D^p_{k(p-1)-\varepsilon}$ to it is $(p-1)(q+k) - \varepsilon$, which can be rewritten as $2t(p-1) - \varepsilon$ if $q$ is even, and $(2t+1)(p-1) - \varepsilon$ if $q$ is odd.
According to Lemma \ref{lem: Thom's theorem}, these are the only homologically non-trivial cases.

\begin{definition} \label{def: Steenrod operations at odd prime}
	For any integer $s$, the \textit{Steenrod operations}
	\begin{equation*}
	P_s \colon H_\bullet(A; \mathbb{F}_p) \to H_{\bullet + 2s(p-1)}(A; \mathbb{F}_p)
	\end{equation*}
	and
	\begin{equation*}
	\beta P_s \colon H_\bullet(A; \mathbb{F}_p) \to H_{\bullet + 2s(p-1) - 1}(A; \mathbb{F}_p)
	\end{equation*}
	are defined by sending the class represented by a cycle $a \in (A \otimes \mathbb{F}_p)$ of degree $q$ to the classes represented respectively for $\varepsilon \in\{0,1\}$ by
	\begin{equation*}
	(-1)^s \nu(q) D^p_{(2s-q)(p-1)-\varepsilon}(a)
	\end{equation*}
	where $\nu(q) = (-1)^{q(q-1)m/2}(m!)^q$ and $m = (p-1)/2$.
\end{definition}

\begin{remark}
	The use of the coefficient function $\nu(q)$ is motivated by the identity $D_{q(p-1)}^p(a) = \nu(q)a$ in the case of spaces (see \cite[(6.1)]{steenrod1953cyclic}).
	The notation $\beta P_s$ is motivated by the relationship of this operator and the Bockstein of the reduction $\mathbb Z \to \mathbb Z/p\mathbb Z$.
\end{remark}

Steenrod operations defined as above satisfy the so-called \textit{Adem relations}.
Below we present its most common form and refer to Theorem 4.7 in \cite{may1970general} for a complete list.

\begin{lemma}
	Let $A$ be equipped with a May--Steenrod structure.
	Then,
	\begin{enumerate}
		\item If $p = 2$ and $a > 2b$, then
		\begin{equation*}
		P_{a} P_{b} = \sum_i \binom{2i-a}{a-b-i-1} P_{a+b-i}P_i,
		\end{equation*}
		\item If $p > 2$ and $a > pb$, then
		\begin{equation*}
		P_{a} P_{b} = \sum_i (-1)^{a+i} \binom{pi-a}{a-(p-1)b-i-1} P_{a+b-i}P_i.
		\end{equation*}
	\end{enumerate}
\end{lemma}

\begin{proof}
	As described after Definition~\ref{def: Steenrod products}, for any prime $p$ the pair $(A, \theta)$ is an object in May's category $\mathfrak{C}(\mathrm C_p, \infty, \mathbb{F}_p)$.
	Furthermore, since we are demanding a factorization $\phi \circ \iota$ with $\phi$ being an operad map from an $E_\infty$-operad to $\End_A$, the pair $(A, \theta)$ is an \textit{Adem object} in the sense of \cite[Definition 4.1]{may1970general} and the statement presented here is stated and proven as part of \cite[Theorem 4.7]{may1970general}.
\end{proof}

So far we have considered $\mathrm{C}$-modules, operads and related structures over the category of chain complexes.
It is also useful to consider them over the category of coalgebras, that is to say requiring each chain complex to be equipped with a coproduct and all structure maps to be morphisms of coalgebras.
As described in Definition~1.2 of \cite{may1970general}, the $\mathrm{C}$-module $\mathcal W$ lifts to this category.
A \textit{comultiplicative May--Steenrod structure} on an operad $\mathcal O$ is a morphism of $\mathrm{C}$-modules $\psi \colon \mathcal W \to \mathcal O$ for which there exists a factorization through an $E_\infty$-operad over the category of coalgebras
\begin{equation*}
\begin{tikzcd}[column sep = normal, row sep = small]
& \mathcal R \arrow[dr, "\phi", out=0] & \\
\mathcal W \arrow[ur, "\iota", out=55, in=180] \arrow[rr, "\psi"] & & \mathcal O
\end{tikzcd}
\end{equation*}
such that $\iota$ is a quasi-isomorphism over the category of coalgebras and $\phi$ is a morphism of operads.

Chain complexes equipped with a comultiplicative May--Steenrod structure satisfy the so-called \textit{Cartan relations}.

\begin{lemma}
	Let $A$ be equipped with a comultiplicative May--Steenrod structure.
	For any two mod $p$ homology classes $[\alpha]$ and $[\beta]$ we have
	\begin{equation*}
	P_s\big([\alpha] [\beta]\big) = \sum_{i+j=s} P_i\big( [\alpha] \big) P_j\big( [\beta] \big),
	\end{equation*}
\end{lemma}

\begin{proof}
	As described after Definition~\ref{def: Steenrod products}, for any prime $p$ the pair $(A, \theta)$ is an object in May's category $\mathfrak{C}(\mathrm C_p, \infty, \mathbb{F}_p)$.
	Furthermore, since we are demanding a factorization $\phi \circ \iota$ with $\iota$ being a quasi-isomorphism in the category of $\mathrm{C}$-modules over the category of coalgebras, this is a \textit{Cartan object} as defined in \cite[p.161]{may1970general}.
	The statement presented here is stated in page~165 loc.~cit.
\end{proof}

For the even prime, effective proofs at the cochain level of the Adem and Cartan relations have been given respectively in \cite{medina2021adem} and \cite{medina2020cartan}.
Explicitly, these construct cochains whose coboundaries descends to the relations in cohomology.